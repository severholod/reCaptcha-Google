{"version":3,"sources":["main.js"],"names":["reCaptchaId","reCapthcaRender","$","each","this","attr","grecaptcha","render","sitekey","document","ready","submit","event","preventDefault","form","name","find","val","reCaptcha","property","reCaptchaNumber","text","ajax","type","url","data","serialize","success","reset","error","responseText"],"mappings":"AACA,IAAAA,YAAA,GACA,SAAAC,kBACAC,EAAA,cAAAC,KAAA,WACAH,YAAAE,EAAAE,MAAAC,KAAA,OAAAC,WAAAC,OAAAL,EAAAE,MAAAC,KAAA,MAAA,CACAG,QAAA,+CAMAN,EAAAO,UAAAC,MAAA,WACAR,EAAA,SAAAS,OAAA,SAAAC,GACAA,EAAAC,iBACA,IAAAC,EAAAZ,EAAAE,MACAW,KAAAD,EAAAE,KAAA,sBAAAC,MACAC,UAAAJ,EAAAE,KAAA,yCAAAC,MACAE,SAAAL,EAAAE,KAAA,cAAAX,KAAA,MACAe,gBAAApB,YAAAmB,UACAL,EAAAE,KAAA,UAAAK,KAAA,IACAP,EAAAE,KAAA,YAAAK,KAAA,IACAH,WAAAH,KACAb,EAAAoB,KAAA,CACAC,KAAA,OACAC,IAAA,oBACAC,KAAAX,EAAAY,YACAC,QAAA,SAAAF,GACAX,EAAAE,KAAA,YAAAK,KAAAI,GACAnB,WAAAsB,MAAAR,kBAEAS,MAAA,SAAAA,GACAf,EAAAE,KAAA,UAAAK,KAAAQ,EAAAC,cACAxB,WAAAsB,MAAAR,oBAKAlB,EAAAE,MAAAY,KAAA,UAAAK,KAAA","file":"all.min.js","sourcesContent":["\t// рендерим капчу и создаем объект reCaptchaId\r\n\tvar reCaptchaId = {};\r\n\tfunction reCapthcaRender(){\r\n\t\t$('.reCaptcha').each(function(){\r\n\t\t\treCaptchaId[$(this).attr('id')] = grecaptcha.render($(this).attr(\"id\"), {\r\n        'sitekey' : '6Lcg36UUAAAAAJHCy3IQSESpe8oMlyGszWkpstPF'\r\n      });\r\n\t\t});\r\n\t};\r\n\r\n\r\n$(document).ready(function(){\r\n\t$('.form').submit(function(event){\r\n\t\tevent.preventDefault();\r\n\t\tvar form = $(this); //присваем форму \r\n\t\t\t\tname = form.find(\"input[name='name']\").val(); //присваеваем значения поля name\r\n\t\t\t\treCaptcha = form.find(\"textarea[name='g-recaptcha-response']\").val(); //присваеваем значения поля g-recaptcha-response\r\n\t\t\t\tproperty = form.find('.reCaptcha').attr('id'); // присваеваем свойство re-Captcha-i\r\n\t\t\t\treCaptchaNumber = reCaptchaId[property]; // присваеваем значение свойства re-Captcha-i\r\n\t\tform.find('.error').text('');\r\n\t\tform.find('.success').text('');\r\n\t\tif( reCaptcha && name){\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : \"POST\",\r\n\t\t\t\turl: ('/captcha/form.php'),\r\n\t\t\t\tdata: form.serialize(),\r\n\t\t\t\tsuccess: function(data){\r\n\t\t\t\t\tform.find('.success').text(data);\r\n\t\t\t\t\tgrecaptcha.reset(reCaptchaNumber);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error){\r\n\t\t\t\t\tform.find('.error').text(error.responseText);\r\n\t\t\t\t\tgrecaptcha.reset(reCaptchaNumber);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\t$(this).find('.error').text('Заполните обязательные поля');\r\n\t\t}\r\n\t});\r\n});"]}